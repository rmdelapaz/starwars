<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mastering Social Encounters and Cantina Scenes in Star Wars RPG</title>
    <link rel="stylesheet" href="/styles/main.css">
    <link rel="icon" href="/favicon.png" type="image/png">
    <script type="module">
      import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
      mermaid.initialize({ startOnLoad: true });
    </script>
    <style>
        .cantina-atmosphere { background: linear-gradient(135deg, #8B4513, #CD853F, #DEB887); padding: 30px; border-radius: 15px; color: #2F1B14; margin: 20px 0; position: relative; overflow: hidden; }
        .cantina-atmosphere::before { content: ''; position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: repeating-linear-gradient(45deg, rgba(139,69,19,0.1) 0px, rgba(139,69,19,0.1) 2px, transparent 2px, transparent 10px); }
        .cantina-atmosphere * { position: relative; z-index: 2; }
        .patron-gallery { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin: 20px 0; }
        .patron-card { background: #2c3e50; color: white; padding: 20px; border-radius: 15px; position: relative; overflow: hidden; transition: transform 0.3s; }
        .patron-card:hover { transform: translateY(-5px); }
        .patron-card.smuggler { background: linear-gradient(135deg, #34495e, #2c3e50); }
        .patron-card.bounty-hunter { background: linear-gradient(135deg, #8b0000, #dc143c); }
        .patron-card.merchant { background: linear-gradient(135deg, #b8860b, #daa520); color: #2F1B14; }
        .patron-card.information-broker { background: linear-gradient(135deg, #4b0082, #8a2be2); }
        .social-mechanics { background: #f8f9fa; padding: 20px; border-radius: 10px; margin: 20px 0; border-left: 5px solid #007bff; }
        .conversation-builder { background: #fff3cd; padding: 20px; border-radius: 10px; margin: 20px 0; border: 2px solid #ffc107; }
        .dialogue-simulator { background: #000; color: #00ff00; font-family: monospace; padding: 20px; border-radius: 10px; margin: 20px 0; }
        .simulator-screen { min-height: 300px; border: 1px solid #00ff00; padding: 15px; margin: 10px 0; overflow-y: auto; }
        .control-panel { display: flex; flex-wrap: wrap; gap: 10px; margin: 15px 0; }
        .control-btn { padding: 8px 16px; background: #007bff; color: white; border: none; border-radius: 5px; cursor: pointer; }
        .control-btn:hover { background: #0056b3; }
        .control-btn.active { background: #28a745; }
        .tension-tracker { background: #e8f5e8; padding: 20px; border-radius: 10px; margin: 20px 0; }
        .reputation-matrix { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin: 20px 0; }
        .reputation-card { background: #f0f8ff; padding: 15px; border-radius: 8px; text-align: center; border: 2px solid #4a90e2; }
        .information-economy { background: #f8d7da; padding: 20px; border-radius: 10px; margin: 20px 0; border: 2px solid #dc3545; }
        .exercise-tavern { background: #d1ecf1; padding: 20px; border-radius: 10px; margin: 20px 0; border: 2px solid #bee5eb; }
        .scene-template { background: #e6f3ff; padding: 20px; border-radius: 10px; margin: 20px 0; border-left: 4px solid #007bff; }
        .mood-lighting { position: relative; padding: 20px; margin: 20px 0; border-radius: 10px; }
        .mood-low { background: linear-gradient(135deg, #2c3e50, #34495e); color: white; }
        .mood-medium { background: linear-gradient(135deg, #f39c12, #e67e22); color: white; }
        .mood-high { background: linear-gradient(135deg, #e74c3c, #c0392b); color: white; }
        .species-interactions { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin: 20px 0; }
        .species-card { background: #fff; padding: 15px; border-radius: 8px; border: 2px solid #28a745; }
        .cantina-builder { text-align: center; margin: 20px 0; }
        .jukebox { background: radial-gradient(circle, #ff6b6b, #4ecdc4); padding: 20px; border-radius: 15px; margin: 20px 0; color: white; }
        .music-controls { display: flex; justify-content: center; gap: 15px; margin: 15px 0; }
        .music-btn { padding: 10px 20px; background: rgba(255,255,255,0.2); border: 2px solid white; border-radius: 25px; color: white; cursor: pointer; transition: all 0.3s; }
        .music-btn:hover { background: rgba(255,255,255,0.4); transform: scale(1.05); }
    </style>
</head>
<body>
    <header>
        <h1>Mastering Social Encounters and Cantina Scenes</h1>
        <p><em>"Mos Eisley cantina. You will never find a more wretched hive of scum and villainy. We must be cautious." - Obi-Wan Kenobi</em></p>
    </header>

    <main>
        <section class="intro">
            <div class="cantina-atmosphere">
                <h2>Welcome to the Social Hub Academy</h2>
                <p>Cantinas in Star Wars aren't just places to buy drinks - they're crossroads of the galaxy where information flows like ale, deals are struck in shadowy booths, and heroes meet the contacts who will change their destiny. These social encounters are where your campaign's personality truly shines, where NPCs come alive, and where players learn that sometimes the right word is more powerful than a lightsaber.</p>
                
                <p>Think of cantinas as the galaxy's living rooms - places where the formal structures of civilization relax and reveal the raw humanity (and alienity) beneath. Here, Imperial officers drink beside smugglers, Jedi hide among bounty hunters, and the fate of worlds is decided over rounds of Corellian ale.</p>
            </div>
        </section>

        <section class="social-fundamentals">
            <h2>The Architecture of Social Encounters</h2>
            
            <div class="mermaid">
                graph TD
                    A[Social Encounter] --> B[Atmosphere & Setting]
                    A --> C[Character Motivations]
                    A --> D[Information Exchange]
                    A --> E[Relationship Dynamics]
                    
                    B --> F[Physical Environment]
                    B --> G[Cultural Context]
                    B --> H[Mood & Tension]
                    
                    C --> I[What NPCs Want]
                    C --> J[What NPCs Fear]
                    C --> K[What NPCs Hide]
                    
                    D --> L[Rumors & Gossip]
                    D --> M[Mission Intel]
                    D --> N[Personal Secrets]
                    
                    E --> O[Trust Building]
                    E --> P[Power Dynamics]
                    E --> Q[Cultural Barriers]
            </div>

            <h3>The Five Elements of Memorable Social Scenes</h3>
            <div class="social-mechanics">
                <h4>üé≠ Atmospheric Immersion</h4>
                <p>Set the scene with sensory details. The smoky haze, alien music, mix of languages, and the tension you can cut with a vibroblade. Atmosphere tells players how to behave before any words are spoken.</p>

                <h4>üéØ Clear Stakes</h4>
                <p>Every social encounter needs something at risk. Information the heroes need, allies they must convince, enemies they must deceive, or relationships they must preserve or sacrifice.</p>

                <h4>üé™ Multiple Objectives</h4>
                <p>The best cantina scenes serve multiple purposes: gathering information, making contacts, avoiding enemies, establishing atmosphere, and developing character relationships simultaneously.</p>

                <h4>‚ö° Dynamic Tension</h4>
                <p>Social tension should ebb and flow like a musical composition. Moments of relaxation followed by spikes of danger, comedy mixed with drama, victory shadowed by new complications.</p>

                <h4>üîÑ Meaningful Choices</h4>
                <p>Give players real decisions that matter. Different approaches should lead to different outcomes, and no single "right" answer should solve every problem.</p>
            </div>
        </section>

        <section class="cantina-denizens">
            <h2>Populating Your Cantina: A Menagerie of Characters</h2>
            <p>A cantina is only as interesting as the people who frequent it. Each patron should feel like they have their own story, goals, and reasons for being there.</p>

            <div class="patron-gallery">
                <div class="patron-card smuggler">
                    <h4>üöÄ The Seasoned Smuggler</h4>
                    <p><strong>Motivation:</strong> Avoid Imperial entanglements, find profitable cargo<br>
                    <strong>Information:</strong> Hyperspace routes, customs officials, black market prices<br>
                    <strong>Approach:</strong> Respect their independence, offer mutual benefit</p>
                </div>
                <div class="patron-card bounty-hunter">
                    <h4>üéØ The Bounty Hunter</h4>
                    <p><strong>Motivation:</strong> Track targets, collect bounties, maintain reputation<br>
                    <strong>Information:</strong> Criminal networks, wanted individuals, underworld politics<br>
                    <strong>Approach:</strong> Professional respect, avoid appearing on their list</p>
                </div>
                <div class="patron-card merchant">
                    <h4>üí∞ The Information Broker</h4>
                    <p><strong>Motivation:</strong> Acquire and sell information, maintain network<br>
                    <strong>Information:</strong> Political secrets, personal scandals, upcoming events<br>
                    <strong>Approach:</strong> Everything has a price, but they value repeat customers</p>
                </div>
                <div class="patron-card information-broker">
                    <h4>üîç The Corporate Spy</h4>
                    <p><strong>Motivation:</strong> Gather industrial intelligence, advance corporate interests<br>
                    <strong>Information:</strong> Business deals, technology developments, economic trends<br>
                    <strong>Approach:</strong> Professional courtesy, mutual information exchange</p>
                </div>
            </div>

            <h3>Cantina Archetype Generator</h3>
            <div class="dialogue-simulator">
                <div class="control-panel">
                    <button class="control-btn" onclick="generatePatron()">Generate Random Patron</button>
                    <button class="control-btn" onclick="generateRumor()">Generate Rumor</button>
                    <button class="control-btn" onclick="generateComplications()">Add Complication</button>
                    <button class="control-btn" onclick="resetCantina()">Clear Cantina</button>
                </div>
                <div class="simulator-screen" id="cantinaDisplay">
                    > CANTINA PATRON GENERATOR v2.1
                    <br>> Ready to populate your establishment...
                    <br>> Use controls above to generate content
                    <br>> _
                </div>
            </div>
        </section>

        <section class="conversation-mechanics">
            <h2>The Mechanics of Memorable Conversations</h2>
            <p>Great cantina conversations aren't just exchanges of information - they're dramatic scenes where personalities clash, alliances form, and secrets are revealed through subtext and implication.</p>

            <div class="conversation-builder">
                <h3>The Conversation Framework</h3>
                
                <div class="mermaid">
                    graph LR
                        A[Opening Gambit] --> B[Feeling Out]
                        B --> C[Information Exchange]
                        C --> D[Negotiation/Conflict]
                        D --> E[Resolution/Hook]
                        
                        A1[Set tone<br/>Establish relationship] --> B1[Test trustworthiness<br/>Assess motivations]
                        B1 --> C1[Share information<br/>Make requests]
                        C1 --> D1[Handle disagreements<br/>Find common ground]
                        D1 --> E1[Reach agreement<br/>Plant future seeds]
                </div>

                <h4>Conversation Techniques That Bring NPCs to Life</h4>
                <ul>
                    <li><strong>Subtext:</strong> Characters rarely say exactly what they mean. The smuggler who says "I don't deal with Imperials" might mean "I'm afraid of Imperials" or "The price just went up."</li>
                    <li><strong>Body Language:</strong> Describe gestures, posture, and reactions. The twitching of a Twi'lek's lekku, the way a Rodian's eyes track movement, the careful stillness of a dangerous Trandoshan.</li>
                    <li><strong>Cultural Misunderstandings:</strong> Different species have different concepts of politeness, personal space, and business etiquette. Use these for both comedy and tension.</li>
                    <li><strong>Interruptions:</strong> Real conversations have interruptions - other patrons, cantina staff, sudden music changes, or the arrival of unwanted visitors.</li>
                </ul>
            </div>
        </section>

        <section class="species-dynamics">
            <h2>Navigating Inter-Species Social Dynamics</h2>
            <p>The galaxy is wonderfully diverse, and each species brings their own cultural baggage, biological quirks, and social expectations to every interaction.</p>

            <div class="species-interactions">
                <div class="species-card">
                    <h4>üß† Cerebral Species (Duros, Cereans)</h4>
                    <p><strong>Social Style:</strong> Logical, methodical, appreciate intellectual discussion<br>
                    <strong>Approach:</strong> Present facts, avoid emotional appeals, respect their expertise<br>
                    <strong>Taboos:</strong> Rushed decisions, emotional manipulation, disrespect for knowledge</p>
                </div>
                <div class="species-card">
                    <h4>‚öîÔ∏è Warrior Cultures (Mandalorians, Trandoshans)</h4>
                    <p><strong>Social Style:</strong> Direct, honor-focused, respect strength and courage<br>
                    <strong>Approach:</strong> Be straightforward, show courage, acknowledge their prowess<br>
                    <strong>Taboos:</strong> Cowardice, dishonor, backing down from challenges</p>
                </div>
                <div class="species-card">
                    <h4>üíº Commercial Species (Neimoidians, Muuns)</h4>
                    <p><strong>Social Style:</strong> Business-focused, profit-motivated, appreciate efficiency<br>
                    <strong>Approach:</strong> Emphasize mutual benefit, present clear value propositions<br>
                    <strong>Taboos:</strong> Wasting time, poor business sense, unprofitable ventures</p>
                </div>
                <div class="species-card">
                    <h4>üéµ Artistic Species (Bith, Ortolans)</h4>
                    <p><strong>Social Style:</strong> Expressive, emotional, value creativity and beauty<br>
                    <strong>Approach:</strong> Appreciate their art, share cultural experiences<br>
                    <strong>Taboos:</strong> Dismissing art, cultural insensitivity, pure materialism</p>
                </div>
            </div>
        </section>

        <section class="information-economy">
            <div class="information-economy">
                <h2>üï∏Ô∏è The Information Economy</h2>
                <p>In cantinas, information is currency. Understanding how information flows, who has it, who wants it, and what they're willing to trade for it is crucial to running engaging social encounters.</p>

                <h3>Types of Information Currency</h3>
                <div class="reputation-matrix">
                    <div class="reputation-card">
                        <h4>üì∞ News & Rumors</h4>
                        <p>Recent events, political developments, military movements. Usually traded freely but accuracy varies.</p>
                    </div>
                    <div class="reputation-card">
                        <h4>üó∫Ô∏è Practical Intel</h4>
                        <p>Hyperspace routes, safe houses, contact information. Valuable to specific groups, traded for favors.</p>
                    </div>
                    <div class="reputation-card">
                        <h4>üîí Secrets & Blackmail</h4>
                        <p>Personal scandals, hidden connections, embarrassing truths. Extremely valuable but dangerous to possess.</p>
                    </div>
                    <div class="reputation-card">
                        <h4>üìã Technical Data</h4>
                        <p>Ship specifications, security codes, scientific research. High value to specialized buyers.</p>
                    </div>
                </div>

                <h4>Information Trading Mechanics</h4>
                <ul>
                    <li><strong>Reputation Gates:</strong> Some information only flows to trusted individuals</li>
                    <li><strong>Reciprocity:</strong> "I'll tell you mine if you tell me yours"</li>
                    <li><strong>Verification:</strong> Smart traders want proof before they pay</li>
                    <li><strong>Shelf Life:</strong> Information loses value over time</li>
                    <li><strong>Danger Premium:</strong> Riskier information costs more</li>
                </ul>
            </div>
        </section>

        <section class="mood-management">
            <h2>Managing Cantina Mood and Atmosphere</h2>
            <p>The mood of a cantina can shift dramatically based on who's present, what's happening in the galaxy, and the actions of your player characters.</p>

            <div class="mood-lighting mood-low">
                <h3>üåô Low-Key Evening</h3>
                <p><strong>Atmosphere:</strong> Quiet conversations, relaxed patrons, background music<br>
                <strong>Perfect For:</strong> Information gathering, character development, subtle negotiations<br>
                <strong>Escalation Triggers:</strong> Arrival of authorities, recognition of wanted characters, overheard secrets</p>
            </div>

            <div class="mood-lighting mood-medium">
                <h3>üî• Lively Night</h3>
                <p><strong>Atmosphere:</strong> Louder music, animated discussions, some minor conflicts<br>
                <strong>Perfect For:</strong> Meeting contacts, blending in with crowds, overhearing multiple conversations<br>
                <strong>Escalation Triggers:</strong> Heated arguments, gambling disputes, cultural misunderstandings</p>
            </div>

            <div class="mood-lighting mood-high">
                <h3>‚ö° Powder Keg</h3>
                <p><strong>Atmosphere:</strong> High tension, suspicious glances, weapons visible<br>
                <strong>Perfect For:</strong> Dangerous meetings, tense negotiations, potential violence<br>
                <strong>Escalation Triggers:</strong> Wrong word, mistaken identity, old grudges surfacing</p>
            </div>

            <div class="jukebox">
                <h3>üéµ The Cantina Jukebox</h3>
                <p>Music sets the emotional tone and can change the entire feel of a scene.</p>
                <div class="music-controls">
                    <div class="music-btn" onclick="playMusic('jazzy')">Jazzy Lounge</div>
                    <div class="music-btn" onclick="playMusic('alien')">Alien Folk</div>
                    <div class="music-btn" onclick="playMusic('upbeat')">Upbeat Dance</div>
                    <div class="music-btn" onclick="playMusic('tense')">Tense Silence</div>
                </div>
                <p id="musicDescription">Select a musical mood to set the scene...</p>
            </div>
        </section>

        <section class="encounter-templates">
            <h2>Ready-to-Use Cantina Encounter Templates</h2>

            <div class="scene-template">
                <h3>üïµÔ∏è "The Information Broker"</h3>
                <p><strong>Setup:</strong> Characters need specific information that only a paranoid broker possesses.</p>
                <p><strong>Complications:</strong> Broker demands proof of trustworthiness, rival faction also seeking same info, Imperial agents monitoring the meet.</p>
                <p><strong>Resolution Paths:</strong> Direct payment, information trade, favor owed, intimidation (risky), or befriending the broker's assistant.</p>
            </div>

            <div class="scene-template">
                <h3>‚öîÔ∏è "Cantina Standoff"</h3>
                <p><strong>Setup:</strong> Character accidentally insults/challenges dangerous patron or is mistaken for someone else.</p>
                <p><strong>Complications:</strong> Cultural misunderstanding escalates, other patrons take sides, local law enforcement doesn't want trouble.</p>
                <p><strong>Resolution Paths:</strong> Diplomatic apology, accepting a challenge, finding creative face-saving solution, or strategic retreat.</p>
            </div>

            <div class="scene-template">
                <h3>üé≠ "The Recruitment"</h3>
                <p><strong>Setup:</strong> NPC approaches characters with job offer, but their true identity/motives are concealed.</p>
                <p><strong>Complications:</strong> Job seems too good to be true, other groups competing for same position, moral implications unclear.</p>
                <p><strong>Resolution Paths:</strong> Accept at face value, investigate employer, negotiate terms, decline but maintain contact.</p>
            </div>

            <div class="scene-template">
                <h3>üÉè "High-Stakes Sabacc"</h3>
                <p><strong>Setup:</strong> Important NPC will only talk business during their weekly sabacc game.</p>
                <p><strong>Complications:</strong> Other players have their own agendas, someone's cheating, stakes escalate beyond money.</p>
                <p><strong>Resolution Paths:</strong> Play honestly, cheat skillfully, expose other cheaters, or focus on conversation over cards.</p>
            </div>
        </section>

        <section class="advanced-techniques">
            <h2>Advanced Social Encounter Techniques</h2>

            <h3>The Layered Conversation</h3>
            <p>Multiple conversations happening simultaneously at different tables, with information flowing between them like a complex musical arrangement.</p>

            <h3>The Cultural Clash</h3>
            <p>Use species differences to create misunderstandings that can escalate into conflicts or lead to deeper understanding and alliance.</p>

            <h3>The Reputation Cascade</h3>
            <p>Actions in one cantina affect how NPCs react in other locations. Word travels fast in the galactic underground.</p>

            <h3>The Temporal Pressure Cooker</h3>
            <p>Add time pressure - the contact leaves in 10 minutes, Imperial patrol arrives soon, or a rival faction is closing in.</p>

            <div class="cantina-builder">
                <h3>üèóÔ∏è Build Your Own Cantina Scene</h3>
                <canvas id="cantinaLayout" width="600" height="400"></canvas>
                <div class="control-panel">
                    <button class="control-btn" onclick="addTable()">Add Table</button>
                    <button class="control-btn" onclick="addBar()">Add Bar</button>
                    <button class="control-btn" onclick="addStage()">Add Stage</button>
                    <button class="control-btn" onclick="addPatron()">Add Patron</button>
                    <button class="control-btn" onclick="clearCantina()">Clear Layout</button>
                </div>
                <p><em>Click elements to interact! Design the perfect cantina for your scene.</em></p>
            </div>
        </section>

        <section class="exercises">
            <div class="exercise-tavern">
                <h3>Social Encounter Workshops</h3>
                
                <h4>Exercise 1: The Perfect Patron</h4>
                <p>Create a cantina regular with these elements:</p>
                <ul>
                    <li>A distinctive appearance and mannerism</li>
                    <li>A secret they're hiding</li>
                    <li>Information they possess that could help the party</li>
                    <li>A price they want for sharing that information</li>
                    <li>A complication that makes the exchange difficult</li>
                </ul>

                <h4>Exercise 2: Cultural Miscommunication</h4>
                <p>Design a scene where different species' social customs create conflict:</p>
                <ul>
                    <li>Choose two species with different cultural values</li>
                    <li>Create a situation where their customs clash</li>
                    <li>Provide multiple ways the party could resolve it</li>
                    <li>Show consequences for different resolution approaches</li>
                </ul>

                <h4>Exercise 3: Information Web</h4>
                <p>Create a network of 5 NPCs where each knows different pieces of a larger puzzle:</p>
                <ul>
                    <li>Map out who knows what</li>
                    <li>Establish relationships between the NPCs</li>
                    <li>Determine what each wants in exchange</li>
                    <li>Add complications that make direct approaches difficult</li>
                </ul>

                <h4>Exercise 4: Escalation Scenarios</h4>
                <p>Plan a cantina scene that can escalate in three different ways:</p>
                <ul>
                    <li>Social escalation (arguments, accusations)</li>
                    <li>Political escalation (authorities arrive, factions clash)</li>
                    <li>Physical escalation (brawl breaks out, weapons drawn)</li>
                    <li>Show how player choices determine which path is taken</li>
                </ul>

                <h4>Exercise 5: The Memorable Moment</h4>
                <p>Design a cantina encounter that serves multiple story purposes:</p>
                <ul>
                    <li>Advances the main plot</li>
                    <li>Develops character relationships</li>
                    <li>Reveals world-building details</li>
                    <li>Sets up future story complications</li>
                    <li>Creates a memorable, quotable moment</li>
                </ul>
            </div>
        </section>

        <section class="conclusion">
            <h2>Last Call</h2>
            <p>Remember, cantinas are microcosms of the galaxy - places where all the themes, conflicts, and relationships of your campaign can play out on an intimate scale. The best cantina scenes don't just advance the plot; they reveal character, build atmosphere, and create the kinds of memorable moments that players will reference years later.</p>
            
            <p>Every time your players walk into a cantina, they're entering a world of possibilities. Maybe they'll find the information that saves the Rebellion, or maybe they'll start a bar fight that changes nothing but creates a legendary story. Either way, they'll experience the living, breathing galaxy that makes Star Wars magical.</p>
        </section>
    </main>

    <footer>
        <p><em>"This little one's not worth the effort. Come, let me get you something." - Obi-Wan Kenobi (demonstrating how the right words can defuse any cantina situation)</em></p>
    </footer>

    <script>
        // Patron Generator Data
        const patronTypes = {
            species: ['Human', 'Twi\'lek', 'Rodian', 'Duros', 'Zabrak', 'Weequay', 'Trandoshan', 'Bothan', 'Mon Calamari', 'Sullustan'],
            professions: ['Smuggler', 'Bounty Hunter', 'Merchant', 'Pilot', 'Mechanic', 'Information Broker', 'Corporate Agent', 'Ex-Imperial', 'Rebel Sympathizer', 'Crime Boss'],
            motivations: ['Quick profit', 'Revenge against rival', 'Imperial amnesty', 'Family protection', 'Lost cargo recovery', 'Political advancement', 'Personal glory', 'Debt repayment'],
            secrets: ['Owes money to Hutts', 'Former Jedi in hiding', 'Imperial spy', 'Rebel contact', 'Witness to war crime', 'Lost heir to fortune', 'Clone War deserter', 'Force sensitive'],
            quirks: ['Never removes helmet', 'Speaks in third person', 'Collects rare coins', 'Afraid of droids', 'Always ordering food', 'Taps rhythms nervously', 'Quotes ancient proverbs', 'Has unusual pet']
        };

        const rumors = [
            "Imperial patrol schedules have changed - someone's tipped them off about rebel activity",
            "Abandoned ship spotted in the Kessel system, but the hyperlane's been blockaded",
            "Corporate executive is looking for 'discrete individuals' for a high-paying job",
            "Strange lights seen near the old temple ruins on Yavin 4",
            "Bounty on a missing protocol droid has been posted by a mysterious benefactor",
            "Shipment of rare crystals went missing between Christophsis and Coruscant",
            "Former Clone Wars general spotted in the Outer Rim, thought to be dead",
            "New cantina opened on Nar Shaddaa - competitors keep having 'accidents'"
        ];

        const complications = [
            "Imperial Intelligence agents just walked in",
            "Rival patron recognizes one of the characters",
            "Cantina brawl breaks out at nearby table",
            "Local crime boss makes unexpected appearance",
            "Power fluctuation causes temporary blackout",
            "Mysterious hooded figure starts watching the group",
            "Drunk patron starts loudly discussing rebel sympathies",
            "Bounty hunter's tracking device starts beeping"
        ];

        function generatePatron() {
            const patron = {
                species: randomChoice(patronTypes.species),
                profession: randomChoice(patronTypes.professions),
                motivation: randomChoice(patronTypes.motivations),
                secret: randomChoice(patronTypes.secrets),
                quirk: randomChoice(patronTypes.quirks)
            };

            let output = `> NEW PATRON GENERATED\n`;
            output += `> Species: ${patron.species}\n`;
            output += `> Profession: ${patron.profession}\n`;
            output += `> Motivation: ${patron.motivation}\n`;
            output += `> Secret: ${patron.secret}\n`;
            output += `> Quirk: ${patron.quirk}\n`;
            output += `> \n> Use this patron in your next cantina scene!\n> _`;
            
            updateCantinaDisplay(output);
        }

        function generateRumor() {
            const rumor = randomChoice(rumors);
            const output = `> RUMOR OVERHEARD\n> "${rumor}"\n> \n> How reliable is this information?\n> _`;
            updateCantinaDisplay(output);
        }

        function generateComplications() {
            const complication = randomChoice(complications);
            const output = `> COMPLICATION ADDED\n> ${complication}\n> \n> How do the characters respond?\n> _`;
            updateCantinaDisplay(output);
        }

        function resetCantina() {
            const output = `> CANTINA RESET\n> The establishment quiets down...\n> Ready for new patrons and stories\n> _`;
            updateCantinaDisplay(output);
        }

        function randomChoice(array) {
            return array[Math.floor(Math.random() * array.length)];
        }

        function updateCantinaDisplay(content) {
            document.getElementById('cantinaDisplay').innerHTML = content.replace(/\n/g, '<br>');
        }

        // Music System
        const musicMoods = {
            jazzy: "Smooth jazz fills the air, creating an intimate atmosphere perfect for quiet conversations and subtle negotiations.",
            alien: "Traditional alien folk music plays, exotic instruments creating an otherworldly ambiance that makes everyone feel like visitors.",
            upbeat: "Lively cantina music gets feet tapping and spirits high, encouraging social interaction and bold decisions.",
            tense: "The music stops abruptly, leaving only hushed conversations and the clink of glasses in an atmosphere thick with tension."
        };

        function playMusic(mood) {
            const description = musicMoods[mood];
            document.getElementById('musicDescription').textContent = description;
            
            // Visual feedback
            document.querySelectorAll('.music-btn').forEach(btn => btn.style.background = 'rgba(255,255,255,0.2)');
            event.target.style.background = 'rgba(255,255,255,0.6)';
        }

        // Cantina Layout Builder
        const layoutCanvas = document.getElementById('cantinaLayout');
        const layoutCtx = layoutCanvas.getContext('2d');
        
        let cantinaElements = [];
        let elementId = 0;

        function drawCantinaLayout() {
            layoutCtx.clearRect(0, 0, layoutCanvas.width, layoutCanvas.height);
            
            // Background
            layoutCtx.fillStyle = '#8B4513';
            layoutCtx.fillRect(0, 0, layoutCanvas.width, layoutCanvas.height);
            
            // Floor pattern
            layoutCtx.fillStyle = '#A0522D';
            for (let x = 0; x < layoutCanvas.width; x += 40) {
                for (let y = 0; y < layoutCanvas.height; y += 40) {
                    if ((x/40 + y/40) % 2 === 0) {
                        layoutCtx.fillRect(x, y, 40, 40);
                    }
                }
            }
            
            // Draw elements
            cantinaElements.forEach(element => {
                layoutCtx.fillStyle = element.color;
                layoutCtx.fillRect(element.x - element.width/2, element.y - element.height/2, element.width, element.height);
                
                layoutCtx.fillStyle = '#000';
                layoutCtx.font = '12px Arial';
                layoutCtx.textAlign = 'center';
                layoutCtx.fillText(element.type, element.x, element.y + 4);
            });
        }

        function addTable() {
            cantinaElements.push({
                id: elementId++,
                type: 'Table',
                x: Math.random() * (layoutCanvas.width - 100) + 50,
                y: Math.random() * (layoutCanvas.height - 100) + 50,
                width: 60,
                height: 40,
                color: '#8B4513'
            });
            drawCantinaLayout();
        }

        function addBar() {
            cantinaElements.push({
                id: elementId++,
                type: 'Bar',
                x: Math.random() * (layoutCanvas.width - 120) + 60,
                y: Math.random() * (layoutCanvas.height - 80) + 40,
                width: 120,
                height: 30,
                color: '#654321'
            });
            drawCantinaLayout();
        }

        function addStage() {
            cantinaElements.push({
                id: elementId++,
                type: 'Stage',
                x: Math.random() * (layoutCanvas.width - 80) + 40,
                y: Math.random() * (layoutCanvas.height - 60) + 30,
                width: 80,
                height: 50,
                color: '#DAA520'
            });
            drawCantinaLayout();
        }

        function addPatron() {
            cantinaElements.push({
                id: elementId++,
                type: 'Patron',
                x: Math.random() * (layoutCanvas.width - 20) + 10,
                y: Math.random() * (layoutCanvas.height - 20) + 10,
                width: 20,
                height: 20,
                color: '#FF6347'
            });
            drawCantinaLayout();
        }

        function clearCantina() {
            cantinaElements = [];
            drawCantinaLayout();
        }

        layoutCanvas.addEventListener('click', (e) => {
            const rect = layoutCanvas.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;
            
            cantinaElements.forEach(element => {
                if (x >= element.x - element.width/2 && x <= element.x + element.width/2 &&
                    y >= element.y - element.height/2 && y <= element.y + element.height/2) {
                    alert(`${element.type} - This could be where important conversations happen!`);
                }
            });
        });

        // Initialize
        drawCantinaLayout();
    </script>
</body>
</html>
