<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Creating Memorable Planets and Locations in Star Wars RPG</title>
    <link rel="stylesheet" href="/styles/main.css">
    <link rel="icon" href="/favicon.png" type="image/png">
    <script type="module">
      import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
      mermaid.initialize({ startOnLoad: true });
    </script>
    <style>
        .planet-showcase { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin: 20px 0; }
        .planet-card { background: linear-gradient(135deg, #1e3c72, #2a5298); color: white; padding: 20px; border-radius: 15px; position: relative; overflow: hidden; }
        .planet-card::before { content: ''; position: absolute; top: -50%; left: -50%; width: 200%; height: 200%; background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%); animation: rotate 20s linear infinite; }
        .planet-card h3 { position: relative; z-index: 2; }
        .planet-card p { position: relative; z-index: 2; }
        @keyframes rotate { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        .ecosystem-diagram { background: #f0f8ff; padding: 20px; border-radius: 10px; margin: 20px 0; }
        .location-builder { background: #fff3cd; padding: 20px; border-radius: 10px; margin: 20px 0; border: 2px solid #ffc107; }
        .terrain-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin: 20px 0; }
        .terrain-type { background: #e8f5e8; padding: 15px; border-radius: 8px; text-align: center; border: 2px solid #28a745; }
        .culture-wheel { margin: 30px 0; text-align: center; }
        .adventure-hooks { background: #f8d7da; padding: 20px; border-radius: 10px; margin: 20px 0; border: 2px solid #dc3545; }
        .exercise-section { background: #d1ecf1; padding: 20px; border-radius: 10px; margin: 20px 0; border: 2px solid #bee5eb; }
        .canvas-container { text-align: center; margin: 20px 0; background: #000; padding: 20px; border-radius: 10px; }
        .biome-selector { display: flex; flex-wrap: wrap; gap: 10px; margin: 15px 0; }
        .biome-btn { padding: 8px 16px; background: #007bff; color: white; border: none; border-radius: 5px; cursor: pointer; }
        .biome-btn:hover { background: #0056b3; }
        .biome-btn.active { background: #28a745; }
    </style>
</head>
<body>
    <header>
        <h1>Creating Memorable Planets and Locations in Star Wars RPG</h1>
        <p><em>"The Force is what gives a Jedi his power. It's an energy field created by all living things. It surrounds us and penetrates us; it binds the galaxy together." - Obi-Wan Kenobi</em></p>
    </header>

    <main>
        <section class="intro">
            <h2>Welcome to the Galaxy's Architect Academy</h2>
            <p>Creating planets in Star Wars is like being a cosmic chef - you're not just mixing random ingredients, you're crafting entire worlds that tell stories through their landscapes, cultures, and mysteries. Every memorable Star Wars location, from the twin suns of Tatooine to the floating city of Cloud City, serves the story while feeling like a real place where real people live, work, and dream.</p>
            
            <p>Think of planets as characters in your story. Dagobah isn't just a swamp - it's a wise, ancient teacher hiding in humble appearance. Coruscant isn't just a city - it's the beating heart of galactic civilization, beautiful and corrupt in equal measure.</p>
        </section>

        <section class="planet-fundamentals">
            <h2>The Planet-Building Philosophy</h2>
            
            <div class="ecosystem-diagram">
                <div class="mermaid">
                    graph TD
                        A[Planet Concept] --> B[Physical Environment]
                        A --> C[Cultural Identity]
                        A --> D[Story Function]
                        B --> E[Climate & Geography]
                        B --> F[Flora & Fauna]
                        B --> G[Natural Resources]
                        C --> H[Species & Demographics]
                        C --> I[Government & Society]
                        C --> J[History & Conflicts]
                        D --> K[What role in campaign?]
                        D --> L[What emotions to evoke?]
                        D --> M[What challenges to present?]
                </div>
            </div>

            <h3>The Three Pillars of Planetary Design</h3>
            <div class="planet-showcase">
                <div class="planet-card">
                    <h3>üåç Environmental Storytelling</h3>
                    <p>Your planet's environment should tell a story before anyone speaks. The crystal caves of Ilum whisper of ancient Jedi traditions. The industrial smog of Geonosis speaks of a species that values function over beauty.</p>
                </div>
                <div class="planet-card">
                    <h3>üèõÔ∏è Cultural Depth</h3>
                    <p>Every species evolved in response to their world. Desert dwellers like Jawas became scavengers and traders. The water-world Mon Calamari became master shipbuilders. Environment shapes culture.</p>
                </div>
                <div class="planet-card">
                    <h3>‚ö° Narrative Purpose</h3>
                    <p>Each location should serve the story. Is this where characters learn something important? Face a moral choice? Gain new allies? Your planet should have a clear reason to exist in your campaign.</p>
                </div>
            </div>
        </section>

        <section class="terrain-types">
            <h2>The Terrain Toolbox</h2>
            <p>Like a painter's palette, you have different terrain types that evoke different emotions and create different challenges. Let's explore the classic Star Wars biomes and how to use them effectively.</p>

            <div class="biome-selector">
                <button class="biome-btn active" onclick="showBiome('desert')">Desert Worlds</button>
                <button class="biome-btn" onclick="showBiome('forest')">Forest Worlds</button>
                <button class="biome-btn" onclick="showBiome('ice')">Ice Worlds</button>
                <button class="biome-btn" onclick="showBiome('ocean')">Ocean Worlds</button>
                <button class="biome-btn" onclick="showBiome('urban')">Urban Worlds</button>
                <button class="biome-btn" onclick="showBiome('volcanic')">Volcanic Worlds</button>
            </div>

            <div id="biome-display">
                <div class="terrain-grid">
                    <div class="terrain-type">
                        <h4>üèúÔ∏è Desert Worlds</h4>
                        <p><strong>Emotion:</strong> Isolation, survival, hidden mysteries<br>
                        <strong>Examples:</strong> Tatooine, Jakku, Geonosis<br>
                        <strong>Story Use:</strong> Beginning journeys, testing resolve, ancient secrets</p>
                    </div>
                </div>
            </div>

            <div class="canvas-container">
                <canvas id="planetGenerator" width="600" height="400"></canvas>
                <p><em>Interactive Planet Surface Generator - Click to generate new worlds!</em></p>
            </div>
        </section>

        <section class="culture-creation">
            <h2>Breathing Life into Civilizations</h2>
            <p>A planet without culture is just a pretty rock floating in space. Culture is what makes your worlds feel lived-in and real. Think of culture as the software running on the hardware of your planet's environment.</p>

            <h3>The Cultural Evolution Framework</h3>
            <div class="mermaid">
                graph LR
                    A[Environmental Pressures] --> B[Survival Adaptations]
                    B --> C[Social Structures]
                    C --> D[Belief Systems]
                    D --> E[Technology Focus]
                    E --> F[Art & Expression]
                    F --> G[Modern Culture]
                    G --> A
            </div>

            <h4>Real-World Cultural Parallels</h4>
            <p>Star Wars draws heavily from Earth cultures, but twisted through the lens of different environments and histories:</p>
            
            <ul>
                <li><strong>Tatooine:</strong> Combines elements of the American Wild West, Bedouin desert culture, and North African trading posts</li>
                <li><strong>Naboo:</strong> Blends Italian Renaissance architecture with Swiss democratic traditions and Japanese aesthetic sensibilities</li>
                <li><strong>Coruscant:</strong> Reflects the cosmopolitan nature of cities like New York, with the stratified society of ancient Rome</li>
                <li><strong>Endor:</strong> Draws from Pacific Northwest indigenous cultures, emphasizing harmony with nature and guerrilla warfare tactics</li>
            </ul>

            <div class="culture-wheel">
                <h4>Cultural Aspect Generator</h4>
                <canvas id="cultureWheel" width="400" height="400"></canvas>
                <p><em>Spin to discover unique cultural traits for your civilizations!</em></p>
            </div>
        </section>

        <section class="location-building">
            <h2>Designing Specific Locations</h2>
            <p>Once you have your planet's broad strokes, you need specific locations where adventures happen. Think of these as the "sets" where your story's scenes will play out.</p>

            <div class="location-builder">
                <h3>The Location Blueprint</h3>
                <p>Every memorable Star Wars location answers these key questions:</p>
                
                <div class="mermaid">
                    graph TD
                        A[Location Purpose] --> B[Who built this and why?]
                        A --> C[Who uses it now?]
                        A --> D[What stories does it tell?]
                        B --> E[Architectural Style]
                        B --> F[Original Function]
                        C --> G[Current Inhabitants]
                        C --> H[Daily Activities]
                        D --> I[Visual Storytelling]
                        D --> J[Hidden Secrets]
                </div>

                <h4>Location Categories and Their Functions</h4>
                <ul>
                    <li><strong>Cantinas & Social Hubs:</strong> Information gathering, meeting contacts, showing local culture</li>
                    <li><strong>Temples & Ancient Sites:</strong> Revealing history, Force connections, moral challenges</li>
                    <li><strong>Industrial Complexes:</strong> Showing economic power, environmental impact, worker conditions</li>
                    <li><strong>Government Buildings:</strong> Political intrigue, bureaucratic obstacles, seats of power</li>
                    <li><strong>Natural Wonders:</strong> Spiritual experiences, environmental challenges, hidden bases</li>
                </ul>
            </div>
        </section>

        <section class="environmental-challenges">
            <h2>Environmental Storytelling Through Challenges</h2>
            <p>Your planet's environment should create both obstacles and opportunities for your players. Like a good dungeon master, nature itself becomes a character in your story.</p>

            <h3>Environmental Hazards as Plot Devices</h3>
            <div class="adventure-hooks">
                <h4>üå™Ô∏è Sandstorms on Desert Worlds</h4>
                <p><strong>Mechanical Effect:</strong> Reduced visibility, equipment damage<br>
                <strong>Story Opportunity:</strong> Forces characters together, reveals hidden structures, creates time pressure</p>

                <h4>üåä Tidal Changes on Ocean Worlds</h4>
                <p><strong>Mechanical Effect:</strong> Changing terrain accessibility<br>
                <strong>Story Opportunity:</strong> Time-sensitive missions, revealing underwater secrets, separating party members</p>

                <h4>‚ùÑÔ∏è Blizzards on Ice Worlds</h4>
                <p><strong>Mechanical Effect:</strong> Cold damage, navigation difficulty<br>
                <strong>Story Opportunity:</strong> Finding shelter together, testing character relationships, discovering ice-preserved artifacts</p>

                <h4>üåã Volcanic Activity</h4>
                <p><strong>Mechanical Effect:</strong> Heat damage, unstable terrain<br>
                <strong>Story Opportunity:</strong> Epic lightsaber duels, forging/destroying important items, symbolic transformation moments</p>
            </div>
        </section>

        <section class="advanced-techniques">
            <h2>Advanced World-Building Techniques</h2>
            
            <h3>The Layered History Approach</h3>
            <p>Great planets have layers of history visible in their landscape, like geological strata. Each layer tells a story of who was there before and what happened to them.</p>

            <div class="mermaid">
                graph TB
                    A[Current Era] --> B[Recent History<br/>50-200 years ago]
                    B --> C[Classical Period<br/>500-1000 years ago]
                    C --> D[Ancient History<br/>1000+ years ago]
                    D --> E[Prehistoric/Mythical<br/>Lost to legend]
                    
                    A1[Modern Settlements] --> B1[Industrial Ruins]
                    B1 --> C1[Classical Architecture]
                    C1 --> D1[Ancient Temples]
                    D1 --> E1[Mysterious Artifacts]
            </div>

            <h3>The Interconnected Galaxy Concept</h3>
            <p>Your planets shouldn't exist in isolation. They're part of trade routes, political alliances, and cultural exchanges. Think about how your worlds connect to the larger galaxy.</p>

            <h4>Economic Relationships</h4>
            <ul>
                <li><strong>Resource Worlds:</strong> What do they export? What do they desperately need?</li>
                <li><strong>Manufacturing Centers:</strong> What do they produce? Where do raw materials come from?</li>
                <li><strong>Trade Hubs:</strong> What routes do they control? What cultures mix there?</li>
                <li><strong>Agricultural Worlds:</strong> Who do they feed? How vulnerable are they to blockade?</li>
            </ul>
        </section>

        <section class="practical-examples">
            <h2>Case Study: Building a Complete World</h2>
            <p>Let's walk through creating a planet from scratch using our framework.</p>

            <div class="location-builder">
                <h3>Planet Kythara: A Step-by-Step Example</h3>
                
                <h4>Step 1: Core Concept</h4>
                <p><strong>Idea:</strong> A world of floating islands connected by ancient technology, where different levels represent different social classes.</p>

                <h4>Step 2: Environmental Foundation</h4>
                <p><strong>Physical:</strong> Gas giant with solid floating landmasses, constant gentle winds, crystal formations that provide anti-gravity<br>
                <strong>Climate:</strong> Temperate, frequent mists, spectacular aurora displays</p>

                <h4>Step 3: Cultural Development</h4>
                <p><strong>Species:</strong> Graceful, long-limbed humanoids adapted for gliding<br>
                <strong>Society:</strong> Vertical caste system - literally. Higher islands = higher status<br>
                <strong>Conflict:</strong> Ancient levitation crystals are failing, threatening the social order</p>

                <h4>Step 4: Story Integration</h4>
                <p><strong>Campaign Role:</strong> Characters must negotiate between the "High Towers" and "Low Winds" to prevent civil war<br>
                <strong>Adventure Hooks:</strong> Crystal theft, sabotage, ancient sites holding repair knowledge</p>
            </div>
        </section>

        <section class="exercises">
            <div class="exercise-section">
                <h3>Practice Exercises</h3>
                
                <h4>Exercise 1: The Five-Sense Planet</h4>
                <p>Pick a basic terrain type (desert, forest, ocean, etc.) and describe what characters experience through all five senses when they first arrive. Don't just say "it's a desert" - tell us about the gritty sand between their teeth, the way heat shimmers create false mirages, the surprising cool touch of morning dew on metal equipment.</p>

                <h4>Exercise 2: Cultural Archaeology</h4>
                <p>Create a ruined city that tells the story of a fallen civilization. What do the buildings' architecture reveal about their values? What evidence shows how they fell? What mysteries remain unsolved? Use only environmental details - no exposition or dialogue.</p>

                <h4>Exercise 3: The Connected World</h4>
                <p>Design a planet and then create three other worlds that depend on it economically. What does each world trade? What happens if those trade routes are disrupted? How might this create adventure opportunities?</p>

                <h4>Exercise 4: Environmental Drama</h4>
                <p>Take a simple mission ("deliver the data") and create three different environmental challenges that could complicate it on three different planet types. Show how the environment creates story opportunities, not just obstacles.</p>

                <h4>Exercise 5: The Cultural Lens</h4>
                <p>Take a familiar Earth culture and adapt it to a completely different environment. How would Vikings develop if they lived in a desert? How would Japanese tea ceremony evolve in zero gravity? What stays the same about the core values, and what must change?</p>
            </div>
        </section>

        <section class="advanced-topics">
            <h2>Advanced Topics for Further Exploration</h2>
            
            <h3>Hyperspace Geography</h3>
            <p>How do hyperspace routes affect planetary development? Worlds on major trade routes become cosmopolitan hubs, while isolated worlds develop unique cultures.</p>

            <h3>Force-Sensitive Locations</h3>
            <p>Some places are strong in the Force. How does this affect local wildlife, weather patterns, and the people who live there? Consider places like the Wellspring of Life or the Sith worlds of Korriban and Dromund Kaas.</p>

            <h3>Technological Integration</h3>
            <p>How does galactic technology interact with local conditions? Moisture farms on Tatooine, Cloud City's gas mining, or the energy shields protecting Naboo's underwater cities all show technology adapted to environment.</p>

            <h3>Political Geography</h3>
            <p>How do physical features affect political boundaries? Mountain ranges create natural borders, while river systems or hyperspace routes might unite diverse regions under single governments.</p>
        </section>

        <section class="conclusion">
            <h2>May the Force Be With Your Worlds</h2>
            <p>Remember, you're not just creating backdrops for adventures - you're creating worlds that feel real enough that your players will remember them long after the campaign ends. The best Star Wars planets become characters in their own right, with personalities, moods, and stories to tell.</p>
            
            <p>Start simple, add layers gradually, and always ask yourself: "What story is this place telling?" Whether your characters are negotiating in the crystal spires of Christophsis or hiding in the swamps of Dagobah, every location should feel like it has a purpose and a past.</p>
        </section>
    </main>

    <footer>
        <p><em>"Size matters not. Look at me. Judge me by my size, do you? Hmm? Hmm. And well you should not. For my ally is the Force, and a powerful ally it is." - Yoda (proving that even small swamp planets can hide great teachers)</em></p>
    </footer>

    <script>
        // Biome display system
        const biomeData = {
            desert: {
                title: "üèúÔ∏è Desert Worlds",
                emotion: "Isolation, survival, hidden mysteries",
                examples: "Tatooine, Jakku, Geonosis",
                use: "Beginning journeys, testing resolve, ancient secrets",
                details: "Desert worlds strip away civilization's comforts, forcing characters to rely on each other and their inner strength. They're perfect for starting adventures or vision quests."
            },
            forest: {
                title: "üå≤ Forest Worlds", 
                emotion: "Growth, natural wisdom, hidden dangers",
                examples: "Endor, Kashyyyk, Yavin 4",
                use: "Nature vs technology themes, guerrilla warfare, spiritual growth",
                details: "Forest worlds represent life's persistence and the wisdom found in natural systems. They're ideal for stories about balance and resistance movements."
            },
            ice: {
                title: "‚ùÑÔ∏è Ice Worlds",
                emotion: "Endurance, isolation, stark beauty",
                examples: "Hoth, Orto Plutonia, Ilum",
                use: "Testing character bonds, harsh survival, crystal caves",
                details: "Ice worlds test both physical endurance and emotional bonds. The harsh environment forces characters together while the stark beauty provides dramatic backdrops."
            },
            ocean: {
                title: "üåä Ocean Worlds",
                emotion: "Mystery, fluidity, hidden depths", 
                examples: "Mon Cala, Kamino, Manaan",
                use: "Underwater adventures, shipbuilding cultures, storms",
                details: "Ocean worlds offer three-dimensional exploration and cultures adapted to aquatic life. They're perfect for stories about adaptation and hidden civilizations."
            },
            urban: {
                title: "üèôÔ∏è Urban Worlds",
                emotion: "Civilization, complexity, anonymity",
                examples: "Coruscant, Nar Shaddaa, Corellia", 
                use: "Political intrigue, chase scenes, social stratification",
                details: "Urban worlds showcase the heights and depths of civilization. They're ideal for political stories and showing the contrast between wealth and poverty."
            },
            volcanic: {
                title: "üåã Volcanic Worlds",
                emotion: "Passion, transformation, dangerous power",
                examples: "Mustafar, Sullust, Geonosis (partially)",
                use: "Epic confrontations, forging/destroying, symbolic rebirth",
                details: "Volcanic worlds represent transformation through fire. They're perfect for climactic confrontations and moments of character change."
            }
        };

        function showBiome(type) {
            // Update button states
            document.querySelectorAll('.biome-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            // Update display
            const biome = biomeData[type];
            document.getElementById('biome-display').innerHTML = `
                <div class="terrain-grid">
                    <div class="terrain-type">
                        <h4>${biome.title}</h4>
                        <p><strong>Emotion:</strong> ${biome.emotion}<br>
                        <strong>Examples:</strong> ${biome.examples}<br>
                        <strong>Story Use:</strong> ${biome.use}</p>
                    </div>
                </div>
                <p><strong>Deep Dive:</strong> ${biome.details}</p>
            `;
        }

        // Planet Generator Canvas
        const planetCanvas = document.getElementById('planetGenerator');
        const planetCtx = planetCanvas.getContext('2d');
        
        function generatePlanet() {
            planetCtx.clearRect(0, 0, planetCanvas.width, planetCanvas.height);
            
            // Space background
            planetCtx.fillStyle = '#000011';
            planetCtx.fillRect(0, 0, planetCanvas.width, planetCanvas.height);
            
            // Stars
            for (let i = 0; i < 50; i++) {
                planetCtx.fillStyle = '#ffffff';
                planetCtx.fillRect(Math.random() * planetCanvas.width, Math.random() * planetCanvas.height, 1, 1);
            }
            
            // Planet
            const centerX = planetCanvas.width / 2;
            const centerY = planetCanvas.height / 2;
            const radius = 120;
            
            const colors = ['#ff6b6b', '#4ecdc4', '#45b7d1', '#96ceb4', '#ffd93d', '#ff8a65'];
            const planetColor = colors[Math.floor(Math.random() * colors.length)];
            
            // Planet base
            planetCtx.beginPath();
            planetCtx.arc(centerX, centerY, radius, 0, 2 * Math.PI);
            planetCtx.fillStyle = planetColor;
            planetCtx.fill();
            
            // Atmospheric glow
            const gradient = planetCtx.createRadialGradient(centerX, centerY, radius, centerX, centerY, radius + 20);
            gradient.addColorStop(0, planetColor + '40');
            gradient.addColorStop(1, 'transparent');
            
            planetCtx.beginPath();
            planetCtx.arc(centerX, centerY, radius + 20, 0, 2 * Math.PI);
            planetCtx.fillStyle = gradient;
            planetCtx.fill();
            
            // Surface features
            for (let i = 0; i < 8; i++) {
                const featureX = centerX + (Math.random() - 0.5) * radius * 1.5;
                const featureY = centerY + (Math.random() - 0.5) * radius * 1.5;
                const featureRadius = Math.random() * 30 + 10;
                
                planetCtx.beginPath();
                planetCtx.arc(featureX, featureY, featureRadius, 0, 2 * Math.PI);
                planetCtx.fillStyle = planetColor + '80';
                planetCtx.fill();
            }
        }
        
        planetCanvas.addEventListener('click', generatePlanet);
        generatePlanet(); // Initial generation

        // Culture Wheel
        const cultureCanvas = document.getElementById('cultureWheel');
        const cultureCtx = cultureCanvas.getContext('2d');
        
        const culturalTraits = [
            'Honor-bound warriors',
            'Peaceful traders', 
            'Technological innovators',
            'Spiritual mystics',
            'Nomadic wanderers',
            'Underground dwellers',
            'Sky city builders',
            'Ocean explorers'
        ];
        
        const cultureColors = ['#ff4444', '#44ff44', '#4444ff', '#ffff44', '#ff44ff', '#44ffff', '#ff8844', '#88ff44'];
        
        let cultureRotation = 0;
        let cultureSpinning = false;
        
        function drawCultureWheel() {
            cultureCtx.clearRect(0, 0, cultureCanvas.width, cultureCanvas.height);
            
            const centerX = cultureCanvas.width / 2;
            const centerY = cultureCanvas.height / 2;
            const radius = 180;
            const anglePerSegment = (2 * Math.PI) / culturalTraits.length;
            
            for (let i = 0; i < culturalTraits.length; i++) {
                const startAngle = i * anglePerSegment + cultureRotation;
                const endAngle = (i + 1) * anglePerSegment + cultureRotation;
                
                cultureCtx.beginPath();
                cultureCtx.moveTo(centerX, centerY);
                cultureCtx.arc(centerX, centerY, radius, startAngle, endAngle);
                cultureCtx.closePath();
                cultureCtx.fillStyle = cultureColors[i];
                cultureCtx.fill();
                cultureCtx.stroke();
                
                // Add text
                cultureCtx.save();
                cultureCtx.translate(centerX, centerY);
                cultureCtx.rotate(startAngle + anglePerSegment / 2);
                cultureCtx.textAlign = 'center';
                cultureCtx.fillStyle = '#000';
                cultureCtx.font = '12px Arial';
                cultureCtx.fillText(culturalTraits[i], radius * 0.7, 5);
                cultureCtx.restore();
            }
            
            // Draw pointer
            cultureCtx.beginPath();
            cultureCtx.moveTo(centerX, centerY - radius - 20);
            cultureCtx.lineTo(centerX - 10, centerY - radius - 5);
            cultureCtx.lineTo(centerX + 10, centerY - radius - 5);
            cultureCtx.closePath();
            cultureCtx.fillStyle = '#000';
            cultureCtx.fill();
        }
        
        function spinCultureWheel() {
            if (cultureSpinning) return;
            cultureSpinning = true;
            
            const spinAmount = Math.random() * 6 + 4;
            const duration = 2500;
            const startTime = Date.now();
            const startRotation = cultureRotation;
            
            function animate() {
                const elapsed = Date.now() - startTime;
                const progress = Math.min(elapsed / duration, 1);
                
                const easeProgress = 1 - Math.pow(1 - progress, 3);
                cultureRotation = startRotation + (spinAmount * 2 * Math.PI * easeProgress);
                
                drawCultureWheel();
                
                if (progress < 1) {
                    requestAnimationFrame(animate);
                } else {
                    cultureSpinning = false;
                }
            }
            
            animate();
        }
        
        cultureCanvas.addEventListener('click', spinCultureWheel);
        drawCultureWheel();
    </script>
</body>
</html>
